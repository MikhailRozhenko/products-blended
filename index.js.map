{"version":3,"file":"index.js","sources":["../src/js/constants.js","../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/js/helpers.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["export const BASE_URL = 'https://dummyjson.com';\n\nexport const ENDPOINTS = {\n  CATEGORIES: '/products/category-list',\n  ALL_PRODUCTS: '/products?limit=12&skip=',\n};\n\nexport const PER_PAGE = 12;\n","// API ендпоінти:\n// https://dummyjson.com/docs/products - документація бекенду, розділ продукти\n// https://dummyjson.com/products?limit=10&skip=10 - отримати всі продукти з пагінацією\n// https://dummyjson.com/products/1 - отримати один продукт по ID\n// https://dummyjson.com/products/search?q=nail - пошук продукту по ключовому слову\n// https://dummyjson.com/products/category-list - отримати список категорій продуктів\n// https://dummyjson.com/products/category/smartphones - отримати продукти по категорії\n\nimport axios from 'axios';\nimport { BASE_URL, ENDPOINTS, PER_PAGE } from './constants';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport async function fetchCategories() {\n  const { data } = await axios(`${ENDPOINTS.CATEGORIES}`);\n  return data;\n}\n\nexport async function fetchProducts(page) {\n  const { data } = await axios(\n    `${ENDPOINTS.ALL_PRODUCTS}${(page - 1) * PER_PAGE}`\n  );\n  return data;\n}\n","export const refs = {\n  categoriesList: document.querySelector('.categories'),\n  productList: document.querySelector('ul.products'),\n  loadMoreBtn: document.querySelector('.load-more-btn'),\n};\n","import { refs } from './refs';\n\nexport function renderCategories(data) {\n  const markup = data\n    .map(\n      el => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${el}</button>\n </li>\n`\n    )\n    .join('');\n  refs.categoriesList.innerHTML = markup;\n}\n\nexport function renderProducts(products) {\n  const markup = products\n    .map(\n      ({\n        id,\n        thumbnail,\n        title,\n        brand,\n        category,\n        price,\n        description,\n      }) => `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${description}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${brand}</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>`\n    )\n    .join('');\n  refs.productList.insertAdjacentHTML('beforeend', markup);\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport const iziToastOption = {\n  timeout: 5000,\n  theme: 'dark',\n  messageColor: 'white',\n  iconColor: '#FFFFFF',\n  closeOnClick: true,\n  backgroundColor: '#ef4040',\n  position: 'topCenter',\n};\n\nexport function activeFirstBtn() {\n  const firstBtn = document.querySelector('.categories__btn');\n  if (firstBtn) {\n    firstBtn.classList.add('categories__btn--active');\n  }\n}\n\nexport function changeActiveButton(event) {\n  const onClickButton = document.querySelectorAll('.categories__btn');\n  onClickButton.forEach(element => {\n    if (element.classList.contains('categories__btn--active')) {\n      element.classList.remove('categories__btn--active');\n    }\n    event.target.classList.add('categories__btn--active');\n  });\n}\n\nexport function iziToastErrorMessage(error) {\n  iziToastOption.message = error.message;\n  iziToast.show(iziToastOption);\n}\n\nexport function clearGallery() {\n  refs.productsList.innerHTML = '';\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchCategories, fetchProducts } from './products-api';\nimport { renderCategories, renderProducts } from './render-function';\nimport { activeFirstBtn, iziToastErrorMessage } from './helpers';\nimport { PER_PAGE } from './constants';\nimport { refs } from './refs';\n\nlet currentPage = 1;\nlet totalProducts = 0;\n\nexport async function getCategories() {\n  try {\n    const data = await fetchCategories();\n    renderCategories(['All', ...data]);\n    activeFirstBtn();\n  } catch (error) {\n    console.log(error);\n    iziToast.error({ message: 'Try again later!' });\n  }\n}\n\nexport async function getAllProducts() {\n  try {\n    const data = await fetchProducts(currentPage);\n    totalProducts = data.total;\n    console.log(data.total);\n    renderProducts(data.products);\n\n    if (totalProducts > PER_PAGE) {\n      refs.loadMoreBtn.classList.remove('is-hidden');\n      refs.loadMoreBtn.addEventListener('click', loadMoreProducts);\n    } else {\n      refs.loadMoreBtn.classList.add('is-hidden');\n      refs.loadMoreBtn.removeEventListener('click', loadMoreProducts);\n    }\n    totalProducts -= 12;\n  } catch (error) {\n    console.log(error);\n    iziToastErrorMessage(error);\n  }\n}\n\nexport async function loadMoreProducts() {\n  currentPage += 1;\n\n  // if (pageState.categoryName === 'All' || pageState.categoryName === '') {\n  //   fetchProducts();\n  // }\n}\n","import { getCategories, getAllProducts } from './js/handlers';\n\n//Логіка сторінки Home\ngetCategories();\ngetAllProducts();\n"],"names":["BASE_URL","ENDPOINTS","PER_PAGE","axios","fetchCategories","data","fetchProducts","page","refs","renderCategories","markup","el","renderProducts","products","id","thumbnail","title","brand","category","price","description","iziToastOption","activeFirstBtn","firstBtn","iziToastErrorMessage","error","iziToast","currentPage","totalProducts","getCategories","getAllProducts","loadMoreProducts"],"mappings":"sFAAO,MAAMA,EAAW,wBAEXC,EAAY,CACvB,WAAY,0BACZ,aAAc,0BAChB,EAEaC,EAAW,GCIxBC,EAAM,SAAS,QAAUH,EAElB,eAAeI,GAAkB,CACtC,KAAM,CAAE,KAAAC,CAAM,EAAG,MAAMF,EAAM,GAAGF,EAAU,UAAU,EAAE,EACtD,OAAOI,CACT,CAEO,eAAeC,EAAcC,EAAM,CACxC,KAAM,CAAE,KAAAF,CAAM,EAAG,MAAMF,EACrB,GAAGF,EAAU,YAAY,IAAIM,EAAO,GAAKL,CAAQ,EACrD,EACE,OAAOG,CACT,CCvBO,MAAMG,EAAO,CAClB,eAAgB,SAAS,cAAc,aAAa,EACpD,YAAa,SAAS,cAAc,aAAa,EACjD,YAAa,SAAS,cAAc,gBAAgB,CACtD,ECFO,SAASC,EAAiBJ,EAAM,CACrC,MAAMK,EAASL,EACZ,IACCM,GAAM;AAAA,mDACuCA,CAAE;AAAA;AAAA,CAGhD,EACA,KAAK,EAAE,EACVH,EAAK,eAAe,UAAYE,CAClC,CAEO,SAASE,EAAeC,EAAU,CACvC,MAAMH,EAASG,EACZ,IACC,CAAC,CACC,GAAAC,EACA,UAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,MAAAC,EACA,YAAAC,CACR,IAAY,uCAAuCN,CAAE;AAAA,wCACbC,CAAS,UAAUK,CAAW;AAAA,iCACrCJ,CAAK;AAAA,4EACsCC,CAAK;AAAA,8CACnCC,CAAQ;AAAA,wCACdC,CAAK;AAAA,OAExC,EACA,KAAK,EAAE,EACVX,EAAK,YAAY,mBAAmB,YAAaE,CAAM,CACzD,CChCO,MAAMW,EAAiB,CAC5B,QAAS,IACT,MAAO,OACP,aAAc,QACd,UAAW,UACX,aAAc,GACd,gBAAiB,UACjB,SAAU,WACZ,EAEO,SAASC,GAAiB,CAC/B,MAAMC,EAAW,SAAS,cAAc,kBAAkB,EACtDA,GACFA,EAAS,UAAU,IAAI,yBAAyB,CAEpD,CAYO,SAASC,EAAqBC,EAAO,CAC1CJ,EAAe,QAAUI,EAAM,QAC/BC,EAAS,KAAKL,CAAc,CAC9B,CCxBA,IAAIM,EAAc,EACdC,EAAgB,EAEb,eAAeC,GAAgB,CACpC,GAAI,CACF,MAAMxB,EAAO,MAAMD,IACnBK,EAAiB,CAAC,MAAO,GAAGJ,CAAI,CAAC,EACjCiB,GACD,OAAQG,EAAO,CACd,QAAQ,IAAIA,CAAK,EACjBC,EAAS,MAAM,CAAE,QAAS,kBAAoB,CAAA,CAC/C,CACH,CAEO,eAAeI,GAAiB,CACrC,GAAI,CACF,MAAMzB,EAAO,MAAMC,EAAcqB,CAAW,EAC5CC,EAAgBvB,EAAK,MACrB,QAAQ,IAAIA,EAAK,KAAK,EACtBO,EAAeP,EAAK,QAAQ,EAExBuB,EAAgB1B,GAClBM,EAAK,YAAY,UAAU,OAAO,WAAW,EAC7CA,EAAK,YAAY,iBAAiB,QAASuB,CAAgB,IAE3DvB,EAAK,YAAY,UAAU,IAAI,WAAW,EAC1CA,EAAK,YAAY,oBAAoB,QAASuB,CAAgB,GAEhEH,GAAiB,EAClB,OAAQH,EAAO,CACd,QAAQ,IAAIA,CAAK,EACjBD,EAAqBC,CAAK,CAC3B,CACH,CAEO,eAAeM,GAAmB,CACvCJ,GAAe,CAKjB,CC/CAE,IACAC,EAAgB"}